<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emoji Icon Builder</title>
    <style>
      :root {
        --gradient-angle: 135deg;
        --gradient-start: #ff8a00;
        --gradient-end: #e52e71;
        --icon-radius: 220px;
        --emoji-size: 520px;
        --glow-opacity: 0.26;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 32px;
        font-family: "Pretendard Variable", -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        background: #080911;
        color: #f4f6fb;
        min-height: 100vh;
      }

      h1 {
        margin: 0 0 10px;
        font-size: 34px;
      }

      p.description {
        margin: 0 0 24px;
        color: rgba(244, 246, 251, 0.8);
      }

      .hero {
        max-width: 1400px;
        margin: 0 auto 24px;
      }

      main {
        display: grid;
        grid-template-columns: 380px 1fr;
        gap: 24px;
        max-width: 1400px;
        margin: 0 auto;
      }

      .panel {
        background: #10111c;
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 24px;
        padding: 28px;
        box-shadow: 0 25px 70px rgba(0, 0, 0, 0.35);
      }

      .panel h2 {
        font-size: 18px;
        margin: 0 0 14px;
        color: rgba(255, 255, 255, 0.9);
      }

      .form-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 18px;
      }

      label {
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 8px;
      }

      input[type="text"],
      input[type="number"],
      select,
      textarea {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        font-size: 16px;
        padding: 12px 14px;
        color: #f4f6fb;
      }

      input[type="color"] {
        width: 100%;
        height: 46px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: transparent;
        padding: 3px;
      }

      input[type="range"] {
        width: 100%;
      }

      .split {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 16px;
      }

      .button-row {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 10px;
      }

      button {
        border: none;
        border-radius: 12px;
        padding: 14px 18px;
        font-weight: 600;
        font-size: 15px;
        cursor: pointer;
        transition: 0.2s ease;
        color: #0f111d;
      }

      button.accent {
        background: linear-gradient(135deg, #ff6cab, #7366ff);
        color: white;
      }

      button.primary {
        background: linear-gradient(135deg, #7f5af0, #00d1ff);
        color: white;
      }

      button.secondary {
        background: rgba(255, 255, 255, 0.12);
        color: white;
      }

      button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .preview-panel {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .icon-wrap {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 32px;
        background: radial-gradient(
          circle at top,
          rgba(255, 255, 255, 0.05),
          transparent 55%
        );
        border-radius: 24px;
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      #app-icon {
        width: 520px;
        height: 520px;
        border-radius: var(--icon-radius);
        background: linear-gradient(
          var(--gradient-angle),
          var(--gradient-start),
          var(--gradient-end)
        );
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        box-shadow: 0 40px 80px rgba(15, 17, 29, 0.8);
      }

      #app-icon::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
            circle at 30% 30%,
            rgba(255, 255, 255, var(--glow-opacity)),
            transparent 50%
          ),
          linear-gradient(
            120deg,
            rgba(255, 255, 255, 0.14),
            transparent 40%,
            transparent 60%,
            rgba(0, 0, 0, 0.35)
          );
        mix-blend-mode: screen;
        pointer-events: none;
      }

      .icon-emoji {
        font-size: var(--emoji-size);
        filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.45));
        z-index: 1;
      }

      .mini-previews {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 16px;
      }

      .mini-card {
        background: rgba(255, 255, 255, 0.02);
        border-radius: 18px;
        padding: 18px;
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .mini-card h3 {
        margin: 0 0 10px;
        font-size: 14px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.65);
      }

      .mini-icon {
        width: 140px;
        height: 140px;
        margin: 0 auto;
        border-radius: 32px;
        background: linear-gradient(
          var(--gradient-angle),
          var(--gradient-start),
          var(--gradient-end)
        );
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 18px 45px rgba(0, 0, 0, 0.3);
      }

      .mini-icon.circle {
        border-radius: 50%;
      }

      .mini-icon .emoji {
        font-size: 84px;
      }

      .chip {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.08);
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: rgba(255, 255, 255, 0.8);
      }

      .helper {
        margin-top: 18px;
        font-size: 13px;
        line-height: 1.5;
        color: rgba(255, 255, 255, 0.65);
      }

      code {
        background: rgba(255, 255, 255, 0.08);
        padding: 4px 8px;
        border-radius: 6px;
      }

      .status-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
        margin-top: 16px;
      }

      .status-row a {
        color: #7fbbff;
        font-size: 14px;
        text-decoration: none;
      }

      .status-row a:hover {
        text-decoration: underline;
      }

      .meta-section {
        max-width: 1400px;
        margin: 48px auto 0;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
      }

      .meta-card {
        background: #10111c;
        border-radius: 24px;
        padding: 26px;
        border: 1px solid rgba(255, 255, 255, 0.05);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .meta-card h3 {
        margin: 0 0 14px;
        font-size: 18px;
        color: rgba(255, 255, 255, 0.92);
      }

      .meta-card p,
      .meta-card li {
        font-size: 14px;
        color: rgba(255, 255, 255, 0.72);
        line-height: 1.6;
      }

      .meta-card ul {
        margin: 0;
        padding-left: 18px;
        display: grid;
        gap: 6px;
      }

      .donation-box {
        display: grid;
        gap: 8px;
        margin-top: 12px;
      }

      .donation-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        padding: 10px 14px;
        border-radius: 12px;
        font-size: 14px;
      }

      .donation-item span {
        font-weight: 600;
        color: rgba(255, 255, 255, 0.86);
      }

      .ad-slot {
        height: 160px;
        border-radius: 18px;
        background: repeating-linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.06),
          rgba(255, 255, 255, 0.06) 12px,
          rgba(255, 255, 255, 0.02) 12px,
          rgba(255, 255, 255, 0.02) 24px
        );
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.45);
        border: 1px dashed rgba(255, 255, 255, 0.12);
      }

      footer {
        max-width: 1400px;
        margin: 40px auto 60px;
        color: rgba(255, 255, 255, 0.5);
        font-size: 13px;
        text-align: center;
      }

      @media (max-width: 1100px) {
        main {
          grid-template-columns: 1fr;
        }
        #app-icon {
          width: 82vw;
          height: 82vw;
          max-width: 520px;
          max-height: 520px;
        }
      }
    </style>
  </head>
  <body>
    <header class="hero">
      <h1>âš¡ï¸ ìˆ˜ëŠ¥ë¸Œë ˆì´ì»¤ ì´ëª¨ì§€ ì•„ì´ì½˜ ìŠ¤íŠœë””ì˜¤</h1>
      <p class="description">
        ì´ëª¨ì§€ë¥¼ í•œ ê¸€ìë§Œ ë„£ìœ¼ë©´ ì•„ì´ì½˜, íŒŒë¹„ì½˜, ì•±ìŠ¤í† ì–´ìš© ì´ë¯¸ì§€ê¹Œì§€ í•œ ë²ˆì—
        ë½‘ì•„ì£¼ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì»¬ëŸ¬ë¥¼ ê³ ë¥´ê³ , ëœë¤ í”„ë¦¬ì…‹ìœ¼ë¡œ ì˜ê°ë„ ì–»ê³ ,
        ë‹¤ìš´ë¡œë“œë§Œ ëˆ„ë¥´ë©´ ê³§ë°”ë¡œ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ!
      </p>
      <div class="status-row">
        <span class="chip">BETA</span>
        <a href="#guide">ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ</a>
        <a href="#support">ì„œë²„ í›„ì›í•˜ê¸°</a>
      </div>
    </header>

    <main>
      <section class="panel">
        <h2>ì•„ì´ì½˜ ì»¨íŠ¸ë¡¤</h2>

        <div class="form-group">
          <label for="emojiInput">ì•„ì´ì½˜ ì´ëª¨ì§€</label>
          <input
            id="emojiInput"
            type="text"
            maxlength="2"
            value="ğŸš€"
            autocomplete="off"
          />
        </div>

        <div class="form-group split">
          <div>
            <label for="colorStart">ê·¸ë¼ë°ì´ì…˜ ì‹œì‘</label>
            <input type="color" id="colorStart" value="#ff8a00" />
          </div>
          <div>
            <label for="colorEnd">ê·¸ë¼ë°ì´ì…˜ ë</label>
            <input type="color" id="colorEnd" value="#e52e71" />
          </div>
        </div>

        <div class="form-group">
          <label for="angleInput"
            >ê·¸ë¼ë°ì´ì…˜ ê°ë„ (<span id="angleValue">135</span>Â°)</label
          >
          <input type="range" id="angleInput" min="0" max="360" value="135" />
        </div>

        <div class="form-group">
          <label for="radiusInput"
            >ëª¨ì„œë¦¬ ë¼ìš´ë“œ (<span id="radiusValue">220</span>px)</label
          >
          <input type="range" id="radiusInput" min="0" max="260" value="220" />
        </div>

        <div class="form-group">
          <label for="emojiSizeInput"
            >ì´ëª¨ì§€ í¬ê¸° (<span id="emojiSizeValue">520</span>px)</label
          >
          <input
            type="range"
            id="emojiSizeInput"
            min="200"
            max="620"
            value="520"
          />
        </div>

        <div class="form-group">
          <label for="glowInput"
            >ê¸€ë¡œìš° ê°•ë„ (<span id="glowValue">0.26</span>)</label
          >
          <input
            type="range"
            step="0.01"
            min="0"
            max="0.6"
            value="0.26"
            id="glowInput"
          />
        </div>

        <div class="button-row">
          <button class="secondary" id="randomButton">ğŸ² ëœë¤ ì¡°í•©</button>
          <button class="secondary" id="copyConfigButton">ğŸ“‹ ì„¤ì • ë³µì‚¬</button>
        </div>

        <hr style="margin: 26px 0; border-color: rgba(255, 255, 255, 0.05)" />

        <h2>ë‚´ë³´ë‚´ê¸°</h2>
        <div class="button-row">
          <button
            class="primary"
            data-download-size="1024"
            data-filename="icon-ios-1024.png"
          >
            ğŸ iOS ì•„ì´ì½˜ (1024px)
          </button>
          <button
            class="primary"
            data-download-size="512"
            data-filename="icon-android-512.png"
          >
            ğŸ¤– Android ì•„ì´ì½˜ (512px)
          </button>
          <button
            class="primary"
            data-download-size="192"
            data-filename="favicon-192.png"
          >
            ğŸŒ Favicon/Web (192px)
          </button>
          <button class="accent" id="downloadAllButton">
            ğŸ“¦ ì „ì²´ ìì‚° ZIP
          </button>
        </div>
        <p class="helper">
          Expo / React Native ì—ì„œëŠ” <code>assets/icon.png</code> ë¡œ ì €ì¥ í›„
          <code>app.json</code> ì˜ <code>expo.icon</code> ì„ í•´ë‹¹ ê²½ë¡œë¡œ
          ì§€ì •í•˜ì„¸ìš”.
        </p>
      </section>

      <section class="preview-panel">
        <div class="icon-wrap">
          <div id="app-icon">
            <span class="icon-emoji" id="mainEmoji">ğŸš€</span>
          </div>
        </div>
        <div class="mini-previews">
          <div class="mini-card">
            <h3>iOS Rounded</h3>
            <div class="mini-icon">
              <span class="emoji" data-preview-emoji>ğŸš€</span>
            </div>
          </div>
          <div class="mini-card">
            <h3>Android Circle</h3>
            <div class="mini-icon circle">
              <span class="emoji" data-preview-emoji>ğŸš€</span>
            </div>
          </div>
          <div class="mini-card">
            <h3>Browser Favicon</h3>
            <div class="mini-icon" style="border-radius: 18px">
              <span class="emoji" data-preview-emoji>ğŸš€</span>
            </div>
          </div>
        </div>
      </section>
    </main>

    <section class="meta-section" id="guide">
      <div class="meta-card">
        <h3>ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ</h3>
        <ul>
          <li>
            â‘  ì›í•˜ëŠ” ì´ëª¨ì§€ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ ëœë¤ í”„ë¦¬ì…‹ìœ¼ë¡œ ì˜ê°ì„ ì–»ì–´ë³´ì„¸ìš”.
          </li>
          <li>
            â‘¡ ê·¸ë¼ë°ì´ì…˜ ì»¬ëŸ¬, ê°ë„, ì´ëª¨ì§€ í¬ê¸°ë¥¼ ì¡°ì ˆí•´ ë¯¸ì„¸ ì¡°ì •í•©ë‹ˆë‹¤.
          </li>
          <li>
            â‘¢ iOS / Android / Web ë²„íŠ¼ì„ ëˆŒëŸ¬ ê°ê° í•„ìš”í•œ ì‚¬ì´ì¦ˆë¥¼ ì €ì¥í•˜ì„¸ìš”.
          </li>
          <li>
            â‘£ `ì „ì²´ ìì‚° ZIP` ë²„íŠ¼ìœ¼ë¡œ íŒŒë¹„ì½˜ í¬í•¨ ì„¸íŠ¸ë¥¼ í•œ ë²ˆì— ë‚´ë ¤ë°›ì„ ìˆ˜
            ìˆì–´ìš”.
          </li>
        </ul>
        <p style="margin-top: 16px">
          ì•„ì´ì½˜ì„ êµì²´í•œ ë’¤ì—ëŠ” ì•±ìŠ¤í† ì–´ / í”Œë ˆì´ìŠ¤í† ì–´ì— ìƒˆ ë¹Œë“œë¥¼ ì œì¶œí•˜ê±°ë‚˜
          ì›¹ì‚¬ì´íŠ¸ íŒŒë¹„ì½˜ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš”.
        </p>
      </div>

      <div class="meta-card" id="support">
        <h3>ì„œë²„ í›„ì› & ìœ ì§€ë¹„</h3>
        <p>
          ì„œë¹„ìŠ¤ê°€ ë§ˆìŒì— ë“¤ë©´ ì„œë²„ ë¹„ìš©ê³¼ ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•œ ì‘ì€ í›„ì›ì„
          ë¶€íƒë“œë ¤ìš”. ì•„ë˜ ê³„ì¢Œ ë˜ëŠ” í›„ì› ë§í¬ëŠ” ì˜ˆì‹œì´ë‹ˆ ìš´ì˜ í™˜ê²½ì— ë§ê²Œ
          ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.
        </p>
        <div class="donation-box">
          <div class="donation-item">
            <span>ì¹´ì¹´ì˜¤ë±…í¬</span>
            <code>3333-00-0000000</code>
          </div>
          <div class="donation-item">
            <span>í† ìŠ¤ë±…í¬</span>
            <code>1000-0000-0000</code>
          </div>
        </div>
        <div class="button-row" style="margin-top: 16px">
          <button
            class="secondary"
            data-copy-text="ì¹´ì¹´ì˜¤ë±…í¬ 3333-00-0000000 (ì˜ˆê¸ˆì£¼: í™ê¸¸ë™)"
          >
            ğŸ“‹ ê³„ì¢Œ ë³µì‚¬
          </button>
          <button class="secondary" data-copy-text="https://toss.me/emoji-icon">
            â˜•ï¸ ë§í¬ ë³µì‚¬
          </button>
        </div>
      </div>

      <div class="meta-card">
        <h3>ê´‘ê³  / ê³µì§€ ì˜ì—­</h3>
        <p>
          Google AdSense, ì¹´ì¹´ì˜¤ ì• ë“œí• ë“±ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶™ì—¬ ìˆ˜ìµí™”í•˜ê±°ë‚˜ ì¶œì‹œ
          ë…¸íŠ¸ë¥¼ ë„ìš¸ ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤. ê´‘ê³  ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì „ê¹Œì§€ëŠ” ì•„ë˜
          í”Œë ˆì´ìŠ¤í™€ë”ê°€ ë³´ì—¬ì§‘ë‹ˆë‹¤.
        </p>
        <div class="ad-slot">ê´‘ê³  300 Ã— 250</div>
        <p style="margin-top: 16px">
          ê´‘ê³ ë¥¼ ë¶™ì¼ ë•ŒëŠ” ë¡œë”© ì†ë„ë¥¼ ê³ ë ¤í•´ `lazyload` ì†ì„±ì´ë‚˜ ì‚¬ìš©ì
          ì¸í„°ë™ì…˜ ì´í›„ì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì£¼ì…í•˜ëŠ” ë°©ì‹ë„ ì¶”ì²œí•©ë‹ˆë‹¤.
        </p>
      </div>
    </section>

    <footer>
      Â© 2025 ìˆ˜ëŠ¥ë¸Œë ˆì´ì»¤ Emoji Icon Studio Â· ì´ í˜ì´ì§€ëŠ” ì •ì  í˜¸ìŠ¤íŒ…ë§Œìœ¼ë¡œë„
      ì¶©ë¶„íˆ ì„œë¹„ìŠ¤í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
      const state = {
        emoji: "ğŸš€",
        gradientStart: "#ff8a00",
        gradientEnd: "#e52e71",
        angle: 135,
        radius: 220,
        emojiSize: 520,
        glow: 0.26,
      };

      const emojiInput = document.getElementById("emojiInput");
      const colorStartInput = document.getElementById("colorStart");
      const colorEndInput = document.getElementById("colorEnd");
      const angleInput = document.getElementById("angleInput");
      const angleValue = document.getElementById("angleValue");
      const radiusInput = document.getElementById("radiusInput");
      const radiusValue = document.getElementById("radiusValue");
      const emojiSizeInput = document.getElementById("emojiSizeInput");
      const emojiSizeValue = document.getElementById("emojiSizeValue");
      const glowInput = document.getElementById("glowInput");
      const glowValue = document.getElementById("glowValue");
      const mainEmoji = document.getElementById("mainEmoji");
      const previewEmojis = document.querySelectorAll("[data-preview-emoji]");
      const appIcon = document.getElementById("app-icon");

      const setCSSVar = (name, value) =>
        document.documentElement.style.setProperty(name, value);

      function applyState() {
        mainEmoji.textContent = state.emoji;
        previewEmojis.forEach((el) => (el.textContent = state.emoji));

        setCSSVar("--gradient-start", state.gradientStart);
        setCSSVar("--gradient-end", state.gradientEnd);
        setCSSVar("--gradient-angle", `${state.angle}deg`);
        setCSSVar("--icon-radius", `${state.radius}px`);
        setCSSVar("--emoji-size", `${state.emojiSize}px`);
        setCSSVar("--glow-opacity", state.glow);

        emojiInput.value = state.emoji;
        colorStartInput.value = state.gradientStart;
        colorEndInput.value = state.gradientEnd;
        angleInput.value = state.angle;
        angleValue.textContent = state.angle;
        radiusInput.value = state.radius;
        radiusValue.textContent = state.radius;
        emojiSizeInput.value = state.emojiSize;
        emojiSizeValue.textContent = state.emojiSize;
        glowInput.value = state.glow;
        glowValue.textContent = state.glow.toFixed(2);
      }

      function updateFromInputs() {
        state.emoji = emojiInput.value.trim() || "âœ¨";
        state.gradientStart = colorStartInput.value;
        state.gradientEnd = colorEndInput.value;
        state.angle = Number(angleInput.value);
        state.radius = Number(radiusInput.value);
        state.emojiSize = Number(emojiSizeInput.value);
        state.glow = Number(glowInput.value);
        applyState();
      }

      emojiInput.addEventListener("input", updateFromInputs);
      colorStartInput.addEventListener("input", updateFromInputs);
      colorEndInput.addEventListener("input", updateFromInputs);
      angleInput.addEventListener("input", updateFromInputs);
      radiusInput.addEventListener("input", updateFromInputs);
      emojiSizeInput.addEventListener("input", updateFromInputs);
      glowInput.addEventListener("input", updateFromInputs);

      async function renderBaseCanvas() {
        return await html2canvas(appIcon, {
          width: 1024,
          height: 1024,
          scale: 2,
          backgroundColor: null,
        });
      }

      function createScaledCanvas(baseCanvas, size) {
        const targetCanvas = document.createElement("canvas");
        targetCanvas.width = size;
        targetCanvas.height = size;
        const ctx = targetCanvas.getContext("2d");
        ctx.drawImage(baseCanvas, 0, 0, size, size);
        return targetCanvas;
      }

      const assetPresets = [
        { size: 1024, filename: "icon-ios-1024.png" },
        { size: 512, filename: "icon-android-512.png" },
        { size: 256, filename: "icon-android-256.png" },
        { size: 192, filename: "favicon-192.png" },
        { size: 128, filename: "favicon-128.png" },
        { size: 64, filename: "favicon-64.png" },
        { size: 48, filename: "favicon-48.png" },
        { size: 32, filename: "favicon-32.png" },
      ];

      const randomPalettes = [
        { start: "#00c6ff", end: "#0072ff", emoji: "ğŸŒŠ" },
        { start: "#7f5af0", end: "#ff5470", emoji: "âš¡ï¸" },
        { start: "#00f5a0", end: "#00d9f5", emoji: "ğŸ’š" },
        { start: "#f7971e", end: "#ffd200", emoji: "ğŸŒ" },
        { start: "#ff6cab", end: "#7366ff", emoji: "ğŸ‰" },
        { start: "#8a2be2", end: "#4a00e0", emoji: "ğŸª„" },
        { start: "#43cea2", end: "#185a9d", emoji: "ğŸŒ¿" },
      ];

      document.getElementById("randomButton").addEventListener("click", () => {
        const randomItem =
          randomPalettes[Math.floor(Math.random() * randomPalettes.length)];
        state.emoji = randomItem.emoji;
        state.gradientStart = randomItem.start;
        state.gradientEnd = randomItem.end;
        state.angle = Math.floor(Math.random() * 360);
        state.radius = 160 + Math.floor(Math.random() * 80);
        state.emojiSize = 420 + Math.floor(Math.random() * 160);
        state.glow = 0.15 + Math.random() * 0.25;
        applyState();
      });

      document
        .getElementById("copyConfigButton")
        .addEventListener("click", async () => {
          const text = `emoji=${state.emoji} | start=${state.gradientStart} | end=${state.gradientEnd} | angle=${state.angle}deg | radius=${state.radius}px`;
          try {
            await navigator.clipboard.writeText(text);
            alert("ì„¤ì •ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¹œêµ¬ì—ê²Œ ê·¸ëŒ€ë¡œ ê³µìœ í•˜ì„¸ìš”!");
          } catch (error) {
            alert("ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (HTTPS í™˜ê²½ ê¶Œì¥)");
          }
        });

      async function downloadIcon(size, filename, button) {
        button.disabled = true;
        const originalText = button.textContent;
        button.textContent = "â³ ë Œë”ë§ ì¤‘...";

        try {
          const baseCanvas = await renderBaseCanvas();
          const targetCanvas = createScaledCanvas(baseCanvas, size);

          const link = document.createElement("a");
          link.download = filename;
          link.href = targetCanvas.toDataURL("image/png");
          link.click();
        } catch (error) {
          console.error(error);
          alert("ë‚´ë³´ë‚´ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        } finally {
          button.disabled = false;
          button.textContent = originalText;
        }
      }

      async function downloadAllAssets(button) {
        if (typeof JSZip === "undefined") {
          alert(
            "ZIP ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ìƒˆë¡œê³ ì¹¨ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
          );
          return;
        }

        button.disabled = true;
        const originalText = button.textContent;
        button.textContent = "â³ íŒ¨í‚¤ì§• ì¤‘...";

        try {
          const baseCanvas = await renderBaseCanvas();
          const zip = new JSZip();

          for (const asset of assetPresets) {
            const scaledCanvas = createScaledCanvas(baseCanvas, asset.size);
            const dataUrl = scaledCanvas.toDataURL("image/png");
            zip.file(asset.filename, dataUrl.split(",")[1], { base64: true });
          }

          const blob = await zip.generateAsync({ type: "blob" });
          const link = document.createElement("a");
          link.href = URL.createObjectURL(blob);
          link.download = `emoji-icon-pack-${Date.now()}.zip`;
          document.body.appendChild(link);
          link.click();
          setTimeout(() => {
            URL.revokeObjectURL(link.href);
            link.remove();
          }, 1000);
        } catch (error) {
          console.error(error);
          alert("íŒ¨í‚¤ì§€ë¥¼ ë§Œë“œëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        } finally {
          button.disabled = false;
          button.textContent = originalText;
        }
      }

      document.querySelectorAll("[data-download-size]").forEach((button) => {
        button.addEventListener("click", () => {
          const size = Number(button.dataset.downloadSize);
          downloadIcon(size, button.dataset.filename, button);
        });
      });

      const downloadAllButton = document.getElementById("downloadAllButton");
      if (downloadAllButton) {
        downloadAllButton.addEventListener("click", () =>
          downloadAllAssets(downloadAllButton)
        );
      }

      document.querySelectorAll("[data-copy-text]").forEach((button) => {
        button.addEventListener("click", async () => {
          const text = button.dataset.copyText;
          if (!text) return;
          try {
            await navigator.clipboard.writeText(text);
            alert("í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
          } catch (error) {
            console.error(error);
            alert("ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. HTTPS í™˜ê²½ì—ì„œ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
          }
        });
      });

      applyState();
    </script>
  </body>
</html>
